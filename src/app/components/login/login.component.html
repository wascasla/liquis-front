<div class="container">
  <app-loading *ngIf="loading"></app-loading>
  <mat-card>
    <mat-card-title>Login</mat-card-title>
  <form [formGroup]="loginForm" (keydown)="onPressEnter($event)">
    <div class="row" style="margin-top: 20%;">
     <div class="col">
      </div>
      <div class="col">
        <mat-form-field style="width: 300px">
          <input matInput placeholder="Usuario" [(ngModel)]="user" formControlName="user" [errorStateMatcher]="matcher"
            maxlength="30">
        </mat-form-field>
        <mat-error
          *ngIf="loginForm.get('user').hasError('required')  && (loginForm.get('user').dirty || loginForm.get('user').touched)">
          Campo Requerido
        </mat-error> 
      </div>
      <div class="col">
      </div>
    </div>
    <div class="row">
      <div class="col">
      </div>
      <div class="col">
        <mat-form-field style="width: 300px">
          <input matInput placeholder="Contraseña" [(ngModel)]="password" [type]="hide ? 'password' : 'text'"
            formControlName="password" [errorStateMatcher]="matcher" maxlength="20">
          <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide">
            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
        </mat-form-field>
        <mat-error
          *ngIf="loginForm.get('password').hasError('required') && (loginForm.get('password').dirty || loginForm.get('password').touched)">
          Campo Requerido
        </mat-error>
        <div class="text-right" style="margin-top: 2%;">
          <a [routerLink]="['/recovery']" class="card-link">¿Olvidaste tu contraseña?</a>
        </div>
        <div class="text-right" style="margin-top: 4%;">
          <button mat-flat-button color="primary" flex="200" (click)="login()"
            [disabled]="loginForm.status === 'VALID'? false: true">Ingresar</button>
        </div>
        <div class="col text-center" style="padding: 5px; margin-top: 10px;">
          <div *ngIf="statusError" class="alert alert-danger" role="alert">
            <label>{{mensaggeError}}</label>
          </div>
        </div>
      </div>
      <div class="col">
      </div>
    </div>
  </form>
</mat-card>
</div>